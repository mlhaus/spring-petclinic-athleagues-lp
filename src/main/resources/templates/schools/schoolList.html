<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'schools')}">

<body>

<h2 th:text="#{schools}">Schools</h2>

<a th:href="@{/schools/new}" class="btn btn-primary" style="margin-bottom: 15px;">
  <span class="fa fa-plus"></span>
  <span th:text="#{addSchool}">Add School</span>
</a>

<table id="schools" class="table table-striped">
  <thead>
  <tr>
    <th th:text="#{name}">Name</th>
    <th th:text="#{domain}">Domain</th>
    <th th:text="#{status}">Status</th>
    <th th:text="#{locations}">Locations</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="school : ${listSchools}">
    <td>
      <a th:href="@{/schools/__${school.id}__}" th:text="${school.name}" /></a>
    </td>
    <td th:text="${school.domain}" />
    <td th:text="${school.status}" />
    <td>
      <span th:text="${school.locations.size()}" />
    </td>
  </tr>
  </tbody>
</table>

<div th:if="${totalPages > 1}">
  <span th:text="#{pages}">Pages:</span>
  <span>[</span>
  <span th:each="i: ${#numbers.sequence(1, totalPages)}">
      <a th:if="${currentPage != i}" th:href="@{'/schools?page=' + ${i}}">[[${i}]]</a>
      <span th:unless="${currentPage != i}">[[${i}]]</span>
    </span>
  <span>]&nbsp;</span>
  <span>
      <a th:if="${currentPage > 1}" th:href="@{'/schools?page=1'}" th:title="#{first}" class="fa fa-fast-backward"></a>
      <span th:unless="${currentPage > 1}" th:title="#{first}" class="fa fa-fast-backward"></span>
    </span>
  <span>
      <a th:if="${currentPage > 1}" th:href="@{'/schools?page=__${currentPage - 1}__'}" th:title="#{previous}"
         class="fa fa-step-backward"></a>
      <span th:unless="${currentPage > 1}" th:title="#{previous}" class="fa fa-step-backward"></span>
    </span>
  <span>
      <a th:if="${currentPage < totalPages}" th:href="@{'/schools?page=__${currentPage + 1}__'}" th:title="#{next}"
         class="fa fa-step-forward"></a>
      <span th:unless="${currentPage < totalPages}" th:title="#{next}" class="fa fa-step-forward"></span>
    </span>
  <span>
      <a th:if="${currentPage < totalPages}" th:href="@{'/schools?page=__${totalPages}__'}" th:title="#{last}"
         class="fa fa-fast-forward"></a>
      <span th:unless="${currentPage < totalPages}" th:title="#{last}" class="fa fa-fast-forward"></span>
    </span>
</div>
</body>

</html>
